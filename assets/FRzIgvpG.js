import{f as z,g as I,h as b,i as l,m as $,j,k as E,l as k,_ as O,n as B,p as P,q,r as D,o as n,s as F,w as f,c as i,v as c,x as g,y as p,z as T,A as V,B as M,C as w,D as R,E as U,b as H,a as v,F as u,t as x}from"./DosiPvRW.js";const J=(e,a,t,r,o=!1)=>{const s=z(),y=I(),S=b(()=>{var m;const d=l(a),N=l(t),h=l(r);return $((d==null?void 0:d.strategy)||((m=y.ui)==null?void 0:m.strategy),h?{wrapper:h}:{},d||{},o?j(y.ui,e,{}):{},N||{})}),A=b(()=>E(s,["class"]));return{ui:S,attrs:A}},_={base:"invisible before:visible before:block before:rotate-45 before:z-[-1] before:w-2 before:h-2",ring:"before:ring-1 before:ring-gray-200 dark:before:ring-gray-800",rounded:"before:rounded-sm",background:"before:bg-gray-200 dark:before:bg-gray-800",shadow:"before:shadow",placement:"group-data-[popper-placement*='right']:-left-1 group-data-[popper-placement*='left']:-right-1 group-data-[popper-placement*='top']:-bottom-1 group-data-[popper-placement*='bottom']:-top-1"},C={container:"z-20 group",trigger:"flex items-center w-full",width:"w-full",height:"max-h-60",base:"relative focus:outline-none overflow-y-auto scroll-py-1",background:"bg-white dark:bg-gray-800",shadow:"shadow-lg",rounded:"rounded-md",padding:"p-1",ring:"ring-1 ring-gray-200 dark:ring-gray-700",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",option:{base:"cursor-default select-none relative flex items-center justify-between gap-1",rounded:"rounded-md",padding:"px-1.5 py-1.5",size:"text-sm",color:"text-gray-900 dark:text-white",container:"flex items-center gap-1.5 min-w-0",active:"bg-gray-100 dark:bg-gray-900",inactive:"",selected:"pe-7",disabled:"cursor-not-allowed opacity-50",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",icon:{base:"flex-shrink-0 h-5 w-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{wrapper:"absolute inset-y-0 end-0 flex items-center",padding:"pe-2",base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"}},transition:{leaveActiveClass:"transition ease-in duration-100",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},popper:{placement:"bottom-end"},default:{selectedIcon:"i-heroicons-check-20-solid",trailingIcon:"i-heroicons-chevron-down-20-solid",empty:{label:"No options."},optionEmpty:{label:'No results for "{query}".'}},arrow:{..._,ring:"before:ring-1 before:ring-gray-200 dark:before:ring-gray-700",background:"before:bg-white dark:before:bg-gray-700"}};({...C,option:{...C.option},arrow:{..._}});const G={base:"",background:"bg-white dark:bg-gray-900",divide:"divide-y divide-gray-200 dark:divide-gray-800",ring:"ring-1 ring-gray-200 dark:ring-gray-800",rounded:"rounded-lg",shadow:"shadow",body:{base:"",background:"",padding:"px-4 py-5 sm:p-6"},header:{base:"",background:"",padding:"px-4 py-5 sm:px-6"},footer:{base:"",background:"",padding:"px-4 py-4 sm:px-6"}},L=$(k.ui.strategy,k.ui.card,G),W=B({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:t}=J("card",P(e,"ui"),L),r=b(()=>q(D(a.value.base,a.value.rounded,a.value.divide,a.value.ring,a.value.shadow,a.value.background),e.class));return{ui:a,attrs:t,cardClass:r}}});function K(e,a,t,r,o,s){return n(),F(V(e.$attrs.onSubmit?"form":e.as),T({class:e.cardClass},e.attrs),{default:f(()=>[e.$slots.header?(n(),i("div",{key:0,class:c([e.ui.header.base,e.ui.header.padding,e.ui.header.background])},[g(e.$slots,"header")],2)):p("",!0),e.$slots.default?(n(),i("div",{key:1,class:c([e.ui.body.base,e.ui.body.padding,e.ui.body.background])},[g(e.$slots,"default")],2)):p("",!0),e.$slots.footer?(n(),i("div",{key:2,class:c([e.ui.footer.base,e.ui.footer.padding,e.ui.footer.background])},[g(e.$slots,"footer")],2)):p("",!0)]),_:3},16,["class"])}const Q=O(W,[["render",K]]),X={class:"flex min-h-screen items-center justify-center"},Y={key:0,class:"text-red-500"},Z={key:1},ee={class:"text-sm text-gray-500"},re={__name:"callback",setup(e){M();const a=w(null),t=w("");return R(()=>{try{const r=window.location.hash.substring(1),o=new URLSearchParams(r),s=o.get("access_token");t.value=`Hash: ${r}, Params: ${JSON.stringify(Object.fromEntries(o.entries()))}`,s?(localStorage.setItem("github_token",s),U("/",{replace:!0})):a.value="No access token received"}catch(r){console.error("Authentication error:",r),a.value="Failed to authenticate with GitHub",t.value=`Error: ${r.message}`}}),(r,o)=>{const s=Q;return n(),i("div",X,[H(s,null,{header:f(()=>o[0]||(o[0]=[v("h3",{class:"text-xl font-semibold"},"Authenticating...",-1)])),default:f(()=>[u(a)?(n(),i("p",Y,x(u(a)),1)):(n(),i("p",Z,"Please wait while we complete your authentication...")),v("p",ee,"Debug info: "+x(u(t)),1)]),_:1})])}}};export{re as default};
