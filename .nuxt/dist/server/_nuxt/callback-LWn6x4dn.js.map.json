{"file":"callback-LWn6x4dn.js","mappings":"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","names":["_sfc_main","_ssrRenderVNode","_createVNode","_resolveDynamicComponent","_mergeProps","_withCtx","_push","_parent","_ssrRenderClass","_ssrRenderSlot","_createBlock","_renderSlot","_createCommentVNode"],"sources":["../../../../node_modules/@nuxt/ui/dist/runtime/ui.config/layout/card.js","../../../../node_modules/@nuxt/ui/dist/runtime/components/layout/Card.vue","../../../../pages/auth/callback.vue"],"sourcesContent":["export default {\n  base: \"\",\n  background: \"bg-white dark:bg-gray-900\",\n  divide: \"divide-y divide-gray-200 dark:divide-gray-800\",\n  ring: \"ring-1 ring-gray-200 dark:ring-gray-800\",\n  rounded: \"rounded-lg\",\n  shadow: \"shadow\",\n  body: {\n    base: \"\",\n    background: \"\",\n    padding: \"px-4 py-5 sm:p-6\"\n  },\n  header: {\n    base: \"\",\n    background: \"\",\n    padding: \"px-4 py-5 sm:px-6\"\n  },\n  footer: {\n    base: \"\",\n    background: \"\",\n    padding: \"px-4 py-4 sm:px-6\"\n  }\n};\n","<template>\n  <component\n    :is=\"$attrs.onSubmit ? 'form' : as\"\n    :class=\"cardClass\"\n    v-bind=\"attrs\"\n  >\n    <div v-if=\"$slots.header\" :class=\"[ui.header.base, ui.header.padding, ui.header.background]\">\n      <slot name=\"header\" />\n    </div>\n    <div v-if=\"$slots.default\" :class=\"[ui.body.base, ui.body.padding, ui.body.background]\">\n      <slot />\n    </div>\n    <div v-if=\"$slots.footer\" :class=\"[ui.footer.base, ui.footer.padding, ui.footer.background]\">\n      <slot name=\"footer\" />\n    </div>\n  </component>\n</template>\n\n<script>\nimport { computed, toRef, defineComponent } from \"vue\";\nimport { twJoin } from \"tailwind-merge\";\nimport { useUI } from \"../../composables/useUI\";\nimport { mergeConfig, twMerge } from \"../../utils\";\nimport appConfig from \"#build/app.config\";\nimport { card } from \"#ui/ui.config\";\nconst config = mergeConfig(appConfig.ui.strategy, appConfig.ui.card, card);\nexport default defineComponent({\n  inheritAttrs: false,\n  props: {\n    as: {\n      type: String,\n      default: \"div\"\n    },\n    class: {\n      type: [String, Object, Array],\n      default: () => \"\"\n    },\n    ui: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const { ui, attrs } = useUI(\"card\", toRef(props, \"ui\"), config);\n    const cardClass = computed(() => {\n      return twMerge(twJoin(\n        ui.value.base,\n        ui.value.rounded,\n        ui.value.divide,\n        ui.value.ring,\n        ui.value.shadow,\n        ui.value.background\n      ), props.class);\n    });\n    return {\n      // eslint-disable-next-line vue/no-dupe-keys\n      ui,\n      attrs,\n      cardClass\n    };\n  }\n});\n</script>\n","<template>\n  <div class=\"flex min-h-screen items-center justify-center\">\n    <UCard>\n      <template #header>\n        <h3 class=\"text-xl font-semibold\">Authenticating...</h3>\n      </template>\n      <p v-if=\"error\" class=\"text-red-500\">{{ error }}</p>\n      <p v-else>Please wait while we complete your authentication...</p>\n      <p class=\"text-sm text-gray-500\">Debug info: {{ debugInfo }}</p>\n    </UCard>\n  </div>\n</template>\n\n<script setup>\nconst route = useRoute();\nconst error = ref(null);\nconst debugInfo = ref(\"\");\n\nonMounted(async () => {\n  try {\n    // Get authorization code and state from URL query parameters\n    const { code, state } = route.query;\n    debugInfo.value = `Code: ${code}, State: ${state}`;\n\n    // Verify state parameter\n    const savedState = localStorage.getItem(\"github_oauth_state\");\n    if (!savedState || savedState !== state) {\n      throw new Error(\"Invalid state parameter\");\n    }\n\n    if (!code) {\n      throw new Error(\"No authorization code found in URL\");\n    }\n\n    // Exchange the code for an access token using our API route\n    const response = await fetch('/api/auth/token', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ code }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.message || 'Failed to exchange code for token');\n    }\n\n    const data = await response.json();\n    localStorage.setItem(\"github_token\", data.access_token);\n    \n    // Clear the OAuth state\n    localStorage.removeItem(\"github_oauth_state\");\n    \n    // Redirect to home page\n    navigateTo(\"/\", { replace: true });\n  } catch (err) {\n    console.error(\"Authentication error:\", err);\n    error.value = err.message || \"Failed to authenticate with GitHub\";\n    debugInfo.value = `Error: ${err.message}`;\n  }\n});\n</script>\n"],"version":3}